<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fantasy Eye - Ramadan Generator</title>

<!-- Arabic Friendly Font -->
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  font-family:'Cairo', sans-serif;
  background:#f5f5f5;
}

.container{
  max-width:1000px;
  margin:30px auto;
  padding:20px;
  background:#ffffff;
  border-radius:20px;
  box-shadow:0 10px 30px rgba(0,0,0,0.08);
}

h2{
  margin-bottom:20px;
}

input{
  width:100%;
  padding:12px;
  font-size:16px;
  border-radius:12px;
  border:1px solid #ddd;
  margin-bottom:10px;
}

button{
  padding:12px;
  border:none;
  border-radius:12px;
  font-size:16px;
  font-weight:600;
  cursor:pointer;
  margin-right:10px;
}

.generate{
  background:#b08a55;
  color:white;
}

.download{
  background:#333;
  color:white;
}

canvas{
  width:100%;
  margin-top:20px;
  border-radius:12px;
}
</style>
</head>

<body>

<div class="container">
  <h2>Ramadan Post Generator - Fantasy Eye</h2>

  <input type="text" id="name" placeholder="اكتب اسمك هنا / Write your name">

  <button class="generate" onclick="draw()">Generate</button>
  <button class="download" onclick="downloadImage()">Download</button>

  <canvas id="canvas"></canvas>
</div>


<script>
// ======================= CONFIG =======================

const IMAGE_SRC = "ramadan.png";   // your design image name

// Adjust these numbers to perfectly match the red line
let NAME_X = 540;   // move left/right
let NAME_Y = 1475;  // move up/down

const FONT_SIZE = 52;
const FONT_WEIGHT = 600;
const FONT_FAMILY = "Cairo";
const TEXT_COLOR = "#2b2b2b";

// ======================================================


// Get elements
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
const nameInput = document.getElementById("name");

const img = new Image();
img.src = IMAGE_SRC;


// When image loads
img.onload = function(){
  canvas.width = img.naturalWidth;
  canvas.height = img.naturalHeight;
  draw();
};


// Draw function
function draw(){

  ctx.clearRect(0,0,canvas.width,canvas.height);

  // Draw background
  ctx.drawImage(img,0,0);

  const name = nameInput.value.trim();

  if(name !== ""){

    ctx.fillStyle = TEXT_COLOR;
    ctx.textAlign = "center";
    ctx.textBaseline = "middle";
    ctx.direction = "rtl";
    ctx.font = FONT_WEIGHT + " " + FONT_SIZE + "px " + FONT_FAMILY;

    // Small shadow for better readability
    ctx.shadowColor = "rgba(0,0,0,0.15)";
    ctx.shadowBlur = 2;
    ctx.shadowOffsetX = 0;
    ctx.shadowOffsetY = 1;

    ctx.fillText(name, NAME_X, NAME_Y);

    // Reset shadow
    ctx.shadowColor = "transparent";
  }
}


// Download function
function downloadImage(){

  draw();

  const cleanName = nameInput.value.trim() || "Post";

  const link = document.createElement("a");
  link.download = "Ramadan_" + cleanName + ".png";
  link.href = canvas.toDataURL("image/png");
  link.click();
}
</script>

</body>
</html>
